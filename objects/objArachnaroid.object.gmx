<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprArachnaroid</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>30</depth>
  <persistent>0</persistent>
  <parentName>prtBoss</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();

healthpointsStart = 80;
healthpoints = healthpointsStart;
blockCollision = true;
grav = 0;
contactDamage = 4;
phase = 0;
introType = 0;

useEndStageBehavior = false;

imStuff = 0;
imSpiderman = 0;
helloPeter = 0;
lastY = ystart;
saveXSpd = 0;
saveYSpd = 0;
savePeter = 0;
web = noone;

// Music
music = "MM8MiniBoss.ogg";
musicType = "OGG";
musicTrackNumber = 0;
musicVolume = 0.8;
musicLoop = true;
musicLoopSecondsStart = 6.600;
musicLoopSecondsEnd = 44.978;

// Damage Tables
enemyDamageValue(objBusterShotHalfCharged, 1);
enemyDamageValue(objBusterShotCharged, 3);
enemyDamageValue(objKnuckleSandwich, 10);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();

if (!global.frozen)
{
    if (startIntro)
    {
        startIntro = false;
        isIntro = true;
        drawBoss = true;
        y = view_yview - 48;
        visible = true;
        web = instance_create(x, view_yview, objArachnaroidWeb);
        web.depth = depth + 1;
        web.parent = id;
    }
    else if (isIntro)
    {
        imSpiderman++;
        if (helloPeter == 0)
        {
            if (imSpiderman &gt;= 24)
            {
                if (y &lt; ystart)
                    y+= 3;
                else
                {
                    y = ystart;
                    imSpiderman = 0;
                    helloPeter = 1;
                }
            }
        }
        else
        {
            if (imSpiderman == 40)
            {
                image_index = 1;
                screenShake(24, 2, 0);
                playSFX(sfxMechaDragon);
            }
            if (imSpiderman == 64)
                image_index = 0;
            if (imSpiderman == 80)
            {
                isIntro = false;
                imSpiderman = 0;
                helloPeter = 0;
                blockCollision = true;
            }
        }
    }
}
if (entityCanStep())
{
    if (isFight)
    {
        var yeah = view_xview + 128;

        imSpiderman++;
        switch (helloPeter)
        {
            case 0: // fuse shots
                if (!mp_linear_step(x, ystart, 2, 0))
                    imSpiderman = -16;
                else
                {
                    y = ystart;
                    yspeed = 0;
                }
                if (imSpiderman == 24)
                    image_index = 1;
                if (imSpiderman == 32)
                {
                    playSFX(sfxElecnShoot);
                    image_index = 0;
                    r = instance_create(x, bbox_bottom + 12, objArachnaroidFuse);
                    r.depth = depth - 1;
                    r.firstPart = true;
                    imStuff++;
                }
                if (imSpiderman == 96)
                {
                    if (imStuff &lt; 2)
                        imStuff++;
                    else
                    {
                        imStuff = 0;
                        imSpiderman = 0;
                        helloPeter = 1;
                    }
                    imSpiderman = 0;
                }
                break;
            case 1: // sticky sticky sticky
                if (imSpiderman == 16)
                {
                    lastX = yeah + (yeah - x);
                    xspeed = sign(yeah - x) * 3;
                    yspeed = choose(-2, 2);
                }
                if (yspeed &lt; 0 &amp;&amp; y &lt;= view_yview + 48 
                || yspeed &gt; 0 &amp;&amp; y &gt;= view_yview + 96)
                    yspeed*= -1;
                if (instance_exists(target))
                {
                    var tx = target.x;
                    if (imStuff == 0 &amp;&amp; abs(x - tx) &lt;= 8)
                    {
                        saveXSpd = xspeed;
                        xspeed = 0;
                        saveYSpd = yspeed;
                        yspeed = 0;
                        lastY = y;
                        imStuff = 1;
                        imSpiderman = 24;
                        image_index = 2;
                    }
                }
                if (imStuff == 1 &amp;&amp; imSpiderman == 36)
                {
                    yspeed = 4;
                    helloPeter = 2;
                }
                if (imSpiderman &gt; 16 &amp;&amp; 
                (xspeed &gt; 0 &amp;&amp; x &gt;= lastX 
                || xspeed &lt; 0 &amp;&amp; x &lt;= lastX))
                {
                    xspeed = 0;
                    yspeed = 0;
                    imSpiderman = 0;
                    imStuff = 0;
                    helloPeter = 0;
                }
                break;
            case 2: // EAT
                if (ycoll &gt; 0)
                {
                    playSFX(sfxSola0Shoot);
                    image_index = 1;
                    m = instance_create(view_xview + 16, bbox_bottom - 8,
                    objArachnaroidFloor);
                    m.image_xscale = 14;
                    m.depth = depth + 1;
                    imStuff = 2;
                }
                if (ground)
                {
                    if (imSpiderman &gt;= 80 &amp;&amp; imSpiderman &lt; 144
                    &amp;&amp; imSpiderman mod 4 == 0)
                        image_index = !image_index;
                    if (imSpiderman &gt;= 144)
                    {
                        image_index = 0;
                        yspeed = -3;
                    }
                }
                if (yspeed &lt; 0 &amp;&amp; y &lt;= lastY)
                {
                    xspeed = saveXSpd;
                    yspeed = saveYSpd;
                    y = lastY;
                    helloPeter = 1;
                    imSpiderman = 24;
                }
                break;
            case 3: // whoopsie
                if (ycoll &gt; 0)
                {
                    if (imStuff &lt; 3)
                    {
                        playSFX(sfxEnemyHit);
                        event_user(EV_HURT);
                        healthpoints-= 12;
                        if (healthpoints &lt;= 12)
                            event_user(EV_DEATH);
                        imStuff = 3;
                        yspeed = -2;
                    }
                    playSFX(sfxBikkyLand);
                    imSpiderman = 0;
                }
                if (ground)
                {
                    if (imSpiderman == 48)
                    {
                        with (web)
                        {
                            whipped = false;
                        }
                    }
                }
                if (yspeed &lt; 0 &amp;&amp; grav == 0 &amp;&amp; y &lt;= lastY)
                {
                    helloPeter = savePeter;
                    y = lastY;
                    if (savePeter == 1)
                    {
                        xspeed = saveXSpd;
                        yspeed = saveYSpd;
                        imSpiderman = 24;
                    }
                    else
                    {
                        yspeed = 0;
                        imSpiderman = -16;
                        imStuff = 0;
                    }
                }
                break;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="20">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with (prtEnemyProjectile)
{
    if (object_index != objTheWizardLaser)
    {
        m = instance_create(x, y, objExplosion);
        m.depth = depth - 1;
    }
    else
    {
        r = instance_create(x, y, objTrailEffect);
        r.sprite_index = sprite_index;
        r.image_xscale = image_xscale;
        r.image_alpha = 0.6;
        r.depth = depth + 1;
        r.deathTimerMax = 10;
        r.fadeInterval = 3;
        r.fadeAway = true;
    }
    instance_destroy();
}
event_inherited();
stopMusic();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
